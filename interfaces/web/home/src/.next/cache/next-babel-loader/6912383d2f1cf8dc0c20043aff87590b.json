{"ast":null,"code":"import React, { useEffect, useState } from \"react\";\nimport Head from 'next/head';\nimport HTMLRenderer from \"@react-page/renderer\";\nimport \"@react-page/core/lib/index.css\"; // we also want to load the stylesheets\n\nimport slate from \"@react-page/plugins-slate\"; // The rich text area plugin\n\nimport \"@react-page/plugins-slate/lib/index.css\"; // Stylesheets for the rich text area plugin\n\nimport background from \"@react-page/plugins-background\"; // A plugin for background images\n\nimport \"@react-page/plugins-background/lib/index.css\"; // Stylesheets for  background layout plugin\n\nimport image from \"@react-page/plugins-image\"; // A plugin for background images\n\nimport \"@react-page/plugins-image/lib/index.css\"; // Stylesheets for  background layout plugin\n\nimport video from \"@react-page/plugins-video\"; // A plugin for background images\n\nimport \"@react-page/plugins-video/lib/index.css\"; // Stylesheets for  background layout plugin\n\nimport spacer from \"@react-page/plugins-spacer\"; // A plugin for background images\n\nimport \"@react-page/plugins-spacer/lib/index.css\"; // Stylesheets for  background layout plugin\n\nimport nextI18NextInstance from '../../i18n';\nimport config from '../../config';\n\nvar getCurrentLang = function getCurrentLang() {\n  return nextI18NextInstance.i18n.language || 'en';\n};\n\nexport default function CMSPage(page) {\n  console.log('page', page);\n  return React.createElement(\"div\", null, React.createElement(Head, null, React.createElement(\"title\", null, \"CMSPAGE\"), React.createElement(\"meta\", {\n    name: \"viewport\",\n    content: \"initial-scale=1.0, width=device-width\"\n  })), React.createElement(HTMLRenderer, {\n    plugins: plugins,\n    state: page.languages[getCurrentLang],\n    defaultPlugin: slate()\n  }), \") : null}\");\n}\n\nCMSPage.getInitialProps = async function (ctx) {\n  // Fetch the page contents\n  var res = await fetch(\"\".concat(config.api.host, \"/v1/fetchPage?id=\").concat(ctx.query.page));\n  var page = await res.json();\n  console.log('page', page);\n  return page;\n};","map":{"version":3,"sources":["/Users/gary/dev/simpatico/interfaces/web/home/src/pages/cmspage.jsx"],"names":["React","useEffect","useState","Head","HTMLRenderer","slate","background","image","video","spacer","nextI18NextInstance","config","getCurrentLang","i18n","language","CMSPage","page","console","log","plugins","languages","getInitialProps","ctx","res","fetch","api","host","query","json"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAO,gCAAP,C,CAAyC;;AAEzC,OAAOC,KAAP,MAAkB,2BAAlB,C,CAA+C;;AAC/C,OAAO,yCAAP,C,CAAkD;;AAClD,OAAOC,UAAP,MAAuB,gCAAvB,C,CAAyD;;AACzD,OAAO,8CAAP,C,CAAuD;;AACvD,OAAOC,KAAP,MAAkB,2BAAlB,C,CAA+C;;AAC/C,OAAO,yCAAP,C,CAAkD;;AAClD,OAAOC,KAAP,MAAkB,2BAAlB,C,CAA+C;;AAC/C,OAAO,yCAAP,C,CAAkD;;AAClD,OAAOC,MAAP,MAAmB,4BAAnB,C,CAAiD;;AACjD,OAAO,0CAAP,C,CAAmD;;AAEnD,OAAOC,mBAAP,MAAgC,YAAhC;AAEA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAMF,mBAAmB,CAACG,IAApB,CAAyBC,QAAzB,IAAqC,IAA3C;AAAA,CAAvB;;AAEA,eAAe,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACpCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;AAEA,SACE,iCACE,oBAAC,IAAD,QACE,6CADF,EAEE;AAAM,IAAA,IAAI,EAAC,UAAX;AAAsB,IAAA,OAAO,EAAC;AAA9B,IAFF,CADF,EAKE,oBAAC,YAAD;AACI,IAAA,OAAO,EAAEG,OADb;AAEI,IAAA,KAAK,EAAEH,IAAI,CAACI,SAAL,CAAeR,cAAf,CAFX;AAGI,IAAA,aAAa,EAAEP,KAAK;AAHxB,IALF,cADF;AAaD;;AAEDU,OAAO,CAACM,eAAR,GAA0B,gBAAMC,GAAN,EAAa;AACrC;AACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,WAAIb,MAAM,CAACc,GAAP,CAAWC,IAAf,8BAAuCJ,GAAG,CAACK,KAAJ,CAAUX,IAAjD,EAAvB;AACA,MAAMA,IAAI,GAAG,MAAMO,GAAG,CAACK,IAAJ,EAAnB;AAEAX,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;AACA,SAAOA,IAAP;AACD,CAPD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Head from 'next/head'\nimport HTMLRenderer from \"@react-page/renderer\";\nimport \"@react-page/core/lib/index.css\"; // we also want to load the stylesheets\n\nimport slate from \"@react-page/plugins-slate\"; // The rich text area plugin\nimport \"@react-page/plugins-slate/lib/index.css\"; // Stylesheets for the rich text area plugin\nimport background from \"@react-page/plugins-background\"; // A plugin for background images\nimport \"@react-page/plugins-background/lib/index.css\"; // Stylesheets for  background layout plugin\nimport image from \"@react-page/plugins-image\"; // A plugin for background images\nimport \"@react-page/plugins-image/lib/index.css\"; // Stylesheets for  background layout plugin\nimport video from \"@react-page/plugins-video\"; // A plugin for background images\nimport \"@react-page/plugins-video/lib/index.css\"; // Stylesheets for  background layout plugin\nimport spacer from \"@react-page/plugins-spacer\"; // A plugin for background images\nimport \"@react-page/plugins-spacer/lib/index.css\"; // Stylesheets for  background layout plugin\n\nimport nextI18NextInstance from '../../i18n';\n\nimport config from '../../config';\n\nconst getCurrentLang = () => nextI18NextInstance.i18n.language || 'en';\n\nexport default function CMSPage(page) {\n  console.log('page', page);\n\n  return (\n    <div>\n      <Head>\n        <title>CMSPAGE</title>\n        <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n      </Head>\n      <HTMLRenderer \n          plugins={plugins} \n          state={page.languages[getCurrentLang]} \n          defaultPlugin={slate()} \n      />) : null}\n    </div>\n  );\n}\n\nCMSPage.getInitialProps = async ctx => {\n  // Fetch the page contents\n  const res = await fetch(`${config.api.host}/v1/fetchPage?id=${ctx.query.page}`)\n  const page = await res.json()\n  \n  console.log('page', page)\n  return page\n}\n"]},"metadata":{},"sourceType":"module"}