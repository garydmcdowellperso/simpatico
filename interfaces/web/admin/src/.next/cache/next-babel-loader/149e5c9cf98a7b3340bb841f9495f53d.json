{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      \"z-index\": 1000\n    },\n    paper: {\n      marginRight: theme.spacing(2)\n    }\n  };\n});\nexport default function UserMenu(_ref) {\n  var firstNameDisplay = _ref.firstNameDisplay;\n  var classes = useStyles();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var anchorRef = React.useRef(null);\n\n  var handleToggle = function handleToggle() {\n    setOpen(function (prevOpen) {\n      return !prevOpen;\n    });\n  };\n\n  var handleClose = function handleClose(event) {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setOpen(false);\n    }\n  } // return focus to the button when we transitioned from !open -> open\n\n\n  var prevOpen = React.useRef(open);\n  React.useEffect(function () {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(\"div\", null, React.createElement(Button, {\n    ref: anchorRef,\n    \"aria-controls\": open ? 'menu-list-grow' : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: handleToggle\n  }, firstNameDisplay), React.createElement(Popper, {\n    open: open,\n    anchorEl: anchorRef.current,\n    role: undefined,\n    transition: true,\n    disablePortal: true\n  }, function (_ref2) {\n    var TransitionProps = _ref2.TransitionProps,\n        placement = _ref2.placement;\n    return React.createElement(Grow, _extends({}, TransitionProps, {\n      style: {\n        transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n      }\n    }), React.createElement(Paper, null, React.createElement(ClickAwayListener, {\n      onClickAway: handleClose\n    }, React.createElement(MenuList, {\n      autoFocusItem: open,\n      id: \"menu-list-grow\",\n      onKeyDown: handleListKeyDown\n    }, React.createElement(MenuItem, {\n      onClick: function onClick() {\n        window.location.href = \"/profile\";\n      }\n    }, \"Profile\"), React.createElement(MenuItem, {\n      onClick: handleClose\n    }, \"My account\"), React.createElement(MenuItem, {\n      onClick: handleClose\n    }, \"Logout\")))));\n  })));\n}","map":{"version":3,"sources":["/Users/gary/dev/simpatico/interfaces/web/home/src/components/UserMenu.jsx"],"names":["React","Button","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","makeStyles","useStyles","theme","root","display","paper","marginRight","spacing","UserMenu","firstNameDisplay","classes","useState","open","setOpen","anchorRef","useRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","useEffect","focus","undefined","TransitionProps","placement","transformOrigin","window","location","href"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    \"z-index\": 1000,\n  },\n  paper: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function UserMenu({firstNameDisplay}) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen(prevOpen => !prevOpen);\n  };\n\n  const handleClose = event => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  // return focus to the button when we transitioned from !open -> open\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  return (\n    <div className={classes.root}>\n      <div>\n        <Button\n          ref={anchorRef}\n          aria-controls={open ? 'menu-list-grow' : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n        >\n          {firstNameDisplay}\n        </Button>\n        <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\n                    <MenuItem onClick={() => {\n                      window.location.href = \"/profile\";\n                    }}>Profile</MenuItem>\n                    <MenuItem onClick={handleClose}>My account</MenuItem>\n                    <MenuItem onClick={handleClose}>Logout</MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}